syntax = "proto3";

package pb;

import "google/api/annotations.proto";
option go_package = "grpc_anotation_sample/pb";

message Category {
  string id = 1;
  string name = 2;
  string desc = 3;
}

message CreateCategoryRequest { Category data = 1; }
message CreateCategoryResponse { Category data = 1; }
message GetCategoryRequest { string id = 1; }
message GetCategoryResponse { Category data = 1; }
message UpdateCategoryRequest { Category data = 1; }
message UpdateCategoryResponse { Category data = 1; }
message DeleteCategoryRequest { string id = 1; }
message DeleteCategoryResponse { bool success = 1; }
message ListCategorysRequest {}
message ListCategorysResponse { repeated Category data = 1; }

service CategoryService {
  rpc CreateCategory(CreateCategoryRequest) returns (CreateCategoryResponse) {
    option (google.api.http) = { post: "/v1/categorys" body: "*" };
  }
  rpc GetCategory(GetCategoryRequest) returns (GetCategoryResponse) {
    option (google.api.http) = { get: "/v1/categorys/{id}" };
  }
  rpc UpdateCategory(UpdateCategoryRequest) returns (UpdateCategoryResponse) {
    option (google.api.http) = { put: "/v1/categorys/{data.id}" body: "*" };
  }
  rpc DeleteCategory(DeleteCategoryRequest) returns (DeleteCategoryResponse) {
    option (google.api.http) = { delete: "/v1/categorys/{id}" };
  }
  rpc ListCategorys(ListCategorysRequest) returns (ListCategorysResponse) {
    option (google.api.http) = { get: "/v1/categorys" };
  }
}

